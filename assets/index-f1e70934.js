var x=Object.defineProperty;var L=(i,e,t)=>e in i?x(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var A=(i,e,t)=>(L(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();class a{constructor(e){this.element=null,this.createElement(e)}createElement(e){this.element=document.createElement(e.tag),this.setClasses(e.classNames),this.setTextContent(e.textContent),this.setCallback(e.callback),this.setAttribute(e.attribute)}getElement(){return this.element}setClasses(e){e.forEach(t=>this.element.classList.add(t))}setTextContent(e){this.element.textContent=e}setCallback(e){e&&e.length>0&&e.forEach(t=>this.element.addEventListener(t.event,s=>t.callback(s)))}setAttribute(e){e&&e.forEach(t=>this.element.setAttribute(t.id,t.value))}}class r{constructor(e){this.elementCreator=this.createView(e)}getHtmlElement(){return this.elementCreator.getElement()}createView(e){const t={tag:e.tag,classNames:e.classNames,textContent:e.textContent,callback:e.callback,attribute:e.attribute};return new a(t)}}const k=""+new URL("rs_school-f5e70645.svg",import.meta.url).href;class S extends r{constructor(){const e={tag:"div",classNames:["footer__school"]};super(e),this.configureView()}configureView(){const e={tag:"a",classNames:["footer__link"],attribute:[{id:"href",value:"https://rs.school/"},{id:"target",value:"_blank"}]},t={tag:"img",classNames:["footer__img"],attribute:[{id:"src",value:`${k}`},{id:"fill",value:"red"}]},s=new a(e).getElement();s.append(new a(t).getElement()),this.elementCreator.getElement().append(s)}}const _=""+new URL("github-2d49405e.svg",import.meta.url).href;class I extends r{constructor(){const e={tag:"div",classNames:["footer__profile"]};super(e),this.configureView()}configureView(){const e={tag:"a",classNames:["footer__profile-link"],attribute:[{id:"href",value:"https://github.com/webjsmaster"},{id:"target",value:"_blank"}]},t={tag:"img",classNames:["footer__img"],attribute:[{id:"src",value:_},{id:"fill",value:"red"}]},s=new a(e).getElement();s.append(new a(t).getElement()),this.elementCreator.getElement().append(s)}}class R extends r{constructor(){super({tag:"div",classNames:["footer__year"],textContent:"2023"})}}let y=class extends r{constructor(){const e={tag:"div",classNames:["footer__container"]};super(e),this.configureView()}configureView(){this.elementCreator.getElement().append(new S().getHtmlElement(),new R().getHtmlElement(),new I().getHtmlElement())}};class M extends r{constructor(){const e={tag:"footer",classNames:["footer"]};super(e),this.configureView()}configureView(){this.elementCreator.getElement().append(new y().getHtmlElement())}}class m extends r{constructor(){const e={tag:"div",classNames:["header__count"]};if(super(e),m.exists)return m.instance;m.instance=this,m.exists=!0,this.configureView(),this.currentCount=0}configureView(){const e=this.elementCreator.getElement();e.textContent="Count: ",this.count=new a({tag:"span",classNames:[],textContent:"0"}),e.append(this.count.getElement())}rerender(){this.count.getElement().textContent=this.currentCount}incrementCount(e){this.currentCount+=e,this.rerender()}resetCount(){this.currentCount=0,this.rerender()}decrementCount(e){this.currentCount-=e,this.rerender()}getCount(){return this.currentCount}}class Z extends r{constructor(){const e={tag:"div",classNames:["modal__content"]};super(e),this.configureView(),this.modal=new c}configureView(){const e=this.elementCreator.getElement();this.wrapperBtn=new a({tag:"div",classNames:["modal__wrapper-btn"]}).getElement();const t=new a({tag:"button",classNames:["modal__cls-btn"],callback:[{event:"click",callback:()=>this.handleClick()}],textContent:"Close"});this.wrapperBtn.append(t.getElement()),e.append(this.wrapperBtn)}handleClick(){this.modal.setStatus(!this.modal.getStatus())}setContent(e){this.removeContent();const t=new a({tag:"div",textContent:e,classNames:["modal__message"]});this.elementCreator.getElement().prepend(t.getElement())}setResult(e){this.removeContent();const t=new a({tag:"li",classNames:["modal__list-item"]}).getElement(),s=new a({tag:"div",classNames:["modal__item"],textContent:"N/n"}).getElement(),n=new a({tag:"div",classNames:["modal__item-date"],textContent:"Date"}).getElement(),o=new a({tag:"div",classNames:["modal__item"],textContent:"Score"}).getElement(),l=new a({tag:"div",classNames:["modal__item"],textContent:"Time"}).getElement();t.append(s,n,o,l);const p=new a({tag:"ul",classNames:["modal__result-list"]}).getElement();p.append(t),e.length&&e.map((b,N)=>p.append(this.createItemList(b,N))),this.elementCreator.getElement().prepend(p)}createItemList(e,t){const s=new a({tag:"li",classNames:["modal__list-item",e.score==="LOSS"?"loss":"win"]}).getElement(),n=new a({tag:"div",classNames:["modal__item"],textContent:`${t+1}.`}).getElement(),o=new a({tag:"div",classNames:["modal__item-date"],textContent:e.dateToday}).getElement(),l=new a({tag:"div",classNames:["modal__item"],textContent:e.score}).getElement(),p=new a({tag:"div",classNames:["modal__item"],textContent:e.time}).getElement();return s.append(n,o,l,p),s}setNewGame(e){this.removeContent();const t=new a({tag:"div",textContent:"If you start a new game you will be counted as a loss, should you start?",classNames:["modal__message"]}),s=new a({tag:"button",classNames:["modal__ok-btn"],textContent:"Ok",callback:[{event:"click",callback:()=>this.handleClickOk(e)}]});this.wrapperBtn.append(s.getElement()),this.elementCreator.getElement().prepend(t.getElement())}handleClickOk(e){e(),this.modal.setStatus(!1)}removeContent(){const e=this.elementCreator.getElement().querySelector(".modal__result-list"),t=this.elementCreator.getElement().querySelector(".modal__ok-btn"),s=this.elementCreator.getElement().querySelector(".modal__message");this.elementCreator.getElement().contains(e)&&this.elementCreator.getElement().removeChild(e),this.wrapperBtn.contains(t)&&this.wrapperBtn.removeChild(t),this.elementCreator.getElement().contains(s)&&this.elementCreator.getElement().removeChild(s)}}class c extends r{constructor(){const e={tag:"div",classNames:["modal"]};if(super(e),c.exists)return c.instance;c.instance=this,c.exists=!0,this.show=!1,this.configureView()}configureView(){const e=this.elementCreator.getElement();this.content=new Z,e.append(this.content.getHtmlElement())}render(){const e=this.elementCreator.getElement(),t=document.querySelector(".wrapper");this.getStatus()?(t.classList.add("show-modal"),e.classList.add("active")):(t.classList.add("close"),e.classList.add("close"),setTimeout(()=>{t.classList.remove("show-modal"),e.classList.remove("active"),t.classList.remove("close"),e.classList.remove("close")},300))}setStatus(e){this.show=e,this.render()}getStatus(){return this.show}showModal(e,t){e==="message"?this.content.setContent(t):e==="showResult"?this.content.setResult(t):e==="newGame"&&this.content.setNewGame(t),this.setStatus(!0)}}class u extends r{constructor(){const e={tag:"div",classNames:["header__timer"]};if(super(e),u.exists)return u.instance;u.instance=this,u.exists=!0,this.modal=new c,this.configureView()}configureView(){const e=this.elementCreator.getElement();e.textContent="Time: ",this.timer=new a({tag:"span",classNames:[],textContent:"00:00.0"}),e.append(this.timer.getElement())}setTextTime(e){this.timer.getElement().textContent=`${e}`}}const U=i=>{const e=[];for(;e.length<i;){const t=Math.floor(Math.random()*i/2)+1,s=e.reduce((n,o)=>(n[o]=(n[o]||0)+1,n),{});(!s[t]||s[t]<2)&&e.push(t)}return e};const O=""+new URL("questions1-d07a5a68.png",import.meta.url).href;class d{constructor(){if(d.exists)return d.instance;d.instance=this,d.exists=!0,this.time=0,this.timeElement=new u}start(){this.timer||(this.timer=setInterval(()=>{this.time+=1,this.timeElement.setTextTime(this.msToTime(this.time))},100))}msToTime(e){const t=Math.floor(e%10);let s=Math.floor(e/10%60),n=Math.floor(e/(10*60)%60);return n=n<10?`0${n}`:n,s=s<10?`0${s}`:s,`${n}:${s}.${t}`}stop(){clearInterval(this.timer)}resetTimer(){this.time=0,this.timer=null}getTime(){return this.msToTime(this.time)}}class V{constructor(){A(this,"_currentId",null);if(V.exists)return V.instance;V.instance=this,V.exists=!0}get currentId(){return this._currentId}set currentId(e){this._currentId=e}}const z=""+new URL("1-c9c9a289.png",import.meta.url).href,G=""+new URL("2-c49146d3.png",import.meta.url).href,Q=""+new URL("3-4fae2a9f.png",import.meta.url).href,T=""+new URL("4-d9a2528c.png",import.meta.url).href,H=""+new URL("5-da34bc30.png",import.meta.url).href,B=""+new URL("6-079839ff.png",import.meta.url).href,J=""+new URL("7-f00c9bdb.png",import.meta.url).href,P=""+new URL("8-e8d8b629.png",import.meta.url).href,q=""+new URL("9-4c635a4f.png",import.meta.url).href,F=""+new URL("10-8b9e79de.png",import.meta.url).href,K=""+new URL("11-6f607798.png",import.meta.url).href,W=""+new URL("12-67b16cb7.png",import.meta.url).href,j=""+new URL("13-c312c6c8.png",import.meta.url).href,X=""+new URL("14-e11f9eff.png",import.meta.url).href,Y=[{id:1,img:z},{id:2,img:G},{id:3,img:Q},{id:4,img:T},{id:5,img:H},{id:6,img:B},{id:7,img:J},{id:8,img:P},{id:9,img:q},{id:10,img:F},{id:11,img:K},{id:12,img:W},{id:13,img:j},{id:14,img:X}],f="webjsgame";function $(){const i=new Date,e=String(i.getDate()).padStart(2,"0"),t=String(i.getMonth()+1).padStart(2,"0"),s=i.getFullYear(),n=i.toLocaleTimeString("ru-RU");return`${t}/${e}/${s} - ${n}`}function v({dateToday:i=$(),score:e,time:t}){const s={dateToday:i,score:e,time:t};if(localStorage.getItem(f)){const n=JSON.parse(localStorage.getItem(f));n.length>9&&n.shift();const o=[...n,s];localStorage.setItem(f,JSON.stringify(o))}else localStorage.setItem(f,JSON.stringify([s]))}class g{constructor(){A(this,"_statusGame",!1);if(g.exists)return g.instance;g.instance=this,g.exists=!0}get statusGame(){return this._statusGame}set statusGame(e){this._statusGame=e}}const D="data:audio/mpeg;base64,//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAFAAAE5AAzMzMzMzMzMzMzMzMzMzMzMzMzM2ZmZmZmZmZmZmZmZmZmZmZmZmZmmZmZmZmZmZmZmZmZmZmZmZmZmZnMzMzMzMzMzMzMzMzMzMzMzMzMzP////////////////////////8AAAA5TEFNRTMuOTcgAaUAAAAALIQAABRAJASEQgAAQAAABOTZb6IZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAlto0QUEQAJlyJwdxrQAlGMclAD///9SEz6EOeRjhzoBgZ6EachGr//I3o0jdCEkJznkAxbkI3+c7z0I1TvnPIQigAgk58hznkIRpCc56HPRv///+c7kAxbQBgMBgMBgMBgMBgMBQGAEXGN5dED8XxyeSxKethj/hVwEuEiAoH+E8E3CoATYBkf+CvhdRgguBEJX/8YMviWE8YUhEn//iei+C2DGGOcNi6bf//jmJUpkmNBdJU2Lh4pf/MRVLgIhqoAgBFgYICaS07/+1LEBIILhMcw3PeAAUIP5BT8DshZoLLWBMuXFrUoxZvLZ7F161rrMFsnx8qFVG6BIlJHi6xadyYTwti1rW160s+hPn1a/eN/eNfXxv5g2//9f//61exXp4kDT3PAwNAb9YlQgNAqCrgwL6ZCORJadmhxV1Pazgo2692/2z41fjwXt/aMWRDoa8RJsop/1brSGYXvay7n++mXKOHIFRYJnHMAQ5BQFgwKJERsDhOEcKqXUmjXm///TQKAAQA8U2JtVyy92dWp11aQLW2/pExZvP/7UsQMAsvQxyCmJHaBjJ/jwPSZeJ76QDoFytOcAszq0apyYINx1fWYVl0d7bdQjcM8/dAhPYLrnCOkZkQgsZhQabFwsAQuHyCHlpQa//2C5tKIxecR8QV1W9SHIJhbgQeqbb8v6ufzKCdKctn1azLk0QkEsvjypt7+gRB+63GkOVr2gCkKTuP27/9l1eONNuKnMy+0+WKFthflqLRaZZuzM9b2+a/JKCiiwplrNEa8XZPOLLWdK8mhAVHnXnSSAEAB7iwvGOePh6+XXiu7uojz//tSxAkCC5UDGKeZB8FXmKJYhIpgRRFAGRs5KUwQRZR4vgqLkqXc0pO3sSB2dQxxqiOUM+P96GWtQzNarmww3tIQWPbqrv/V63qp3aP/+8cloBdt7mvYr8y9a9L2HaCAU9QASABgilVUoWn+1i4UQjvWGvLiKUJCKTiKEtVQoSX9lYRgZM02S2KmwRdJrkTWFjTRjPrehsK9AJ/VqGAjgLDygaUYW5T2XFRya2f51D9v7fDXZrp+QAEQmtUJCYWFcoTQnhSKmo/1bK2IiJsKiwX/+1LEDYPJzIr2RIUjwAAANIAAAASfFZEVJVmo9W83yuNSikiTZwGp4NHlnsi31FU4dDR77ZIsVJRlSPFRj9oiEpV35VGkmd11TEFNRTMuOTdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",ee=""+new URL("loss-c8194439.mp3",import.meta.url).href,te=""+new URL("win-c52fed04.mp3",import.meta.url).href;class h{constructor(){A(this,"_statusSound",!1);if(h.exists)return h.instance;h.instance=this,h.exists=!0}get statusSound(){return this._statusSound}set statusSound(e){this._statusSound=e}playSound(e){e==="click"?new Audio(D).play():e==="loss"?new Audio(ee).play():e==="win"&&new Audio(te).play()}}class se extends r{constructor(e){const t={tag:"div",classNames:["main__item"],attribute:[{id:"id",value:e.id}],callback:[{event:"click",callback:s=>{s.stopPropagation(),this.handlerClick(s.target.id)}}]};super(t),this.count=new m,this.modal=new c,this.current=new V,this.statusGame=new g,this.timerInstance=new d,this.sound=new h,this.configureView(e)}configureView({img:e,id:t}){const s=this.elementCreator.getElement(),n=new a({tag:"div",classNames:["main__image-front"]}).getElement(),o=new a({tag:"div",classNames:["main__image-back"]}).getElement(),l=new a({tag:"img",classNames:["main__image"],attribute:[{id:"src",value:e},{id:"id",value:t}]}).getElement(),p=new a({tag:"img",classNames:["main__image"],attribute:[{id:"src",value:O},{id:"id",value:t}]}).getElement();n.append(l),o.append(p),s.append(n,o)}handlerClick(e){this.timerInstance.start(),this.statusGame.statusGame||(this.statusGame.statusGame=!0),this.sound.statusSound&&this.sound.playSound("click");const t=document.querySelectorAll(".main__item"),s=document.querySelector(".main__container");this.current.currentId?(s.classList.add("event"),t.forEach(n=>{n.id===e&&n.classList.contains("active")?(t.forEach(o=>{o.id===e&&o.classList.add("ended")}),this.count.incrementCount(11)):setTimeout(()=>{n.classList.remove("active"),s.classList.remove("event")},1e3)}),this.elementCreator.getElement().classList.add("active"),this.count.decrementCount(3),this.current.currentId=null):(this.elementCreator.getElement().classList.add("active"),this.current.currentId=e),this.checkWin(t)&&(this.sound.statusSound&&this.sound.playSound("win"),this.timerInstance.stop(),this.statusGame.statusGame=!1,v({time:this.timerInstance.getTime(),score:this.count.getCount()}),this.modal.showModal("message",`You won by score: ${this.count.getCount()} and in time: ${this.timerInstance.getTime()} ms`))}checkWin(e){let t=0;return e.forEach(s=>{s.classList.contains("ended")&&(t+=1)}),t===28}}let E=class extends r{constructor(){const e={tag:"div",classNames:["main__container"]};super(e),this.configureView()}configureView(){const e=this.elementCreator.getElement();U(28).forEach(t=>{const s=Y.find(n=>n.id===t);e.append(new se(s).getHtmlElement())})}};let C=class extends r{constructor(){const e={tag:"div",classNames:["main__button"]};super(e),this.configureView(),this.modal=new c}configureView(){const e=new a({tag:"button",classNames:[],textContent:"Show Results",callback:[{event:"click",callback:()=>this.handleClick()}]}).getElement();this.elementCreator.getElement().append(e)}handleClick(){const e=JSON.parse(localStorage.getItem(f));e&&e.length?this.modal.showModal("showResult",e):this.modal.showModal("message","No games have been played yet")}};class w extends r{constructor(){const e={tag:"main",classNames:["main"]};if(super(e),w.exists)return w.instance;w.instance=this,w.exists=!0,this.configureView()}configureView(){this.elementCreator.getElement().append(new E().getHtmlElement(),new C().getHtmlElement())}newGameRender(){const e=this.elementCreator.getElement();e.replaceChildren(),e.append(new E().getHtmlElement(),new C().getHtmlElement())}}class ne extends r{constructor(){const e={tag:"div",classNames:["header__button"]};super(e),this.configureView(),this.modal=new c,this.statusGame=new g,this.sound=new h}configureView(){const e=new a({tag:"button",classNames:[],textContent:"New game",callback:[{event:"click",callback:()=>this.handleClick()}]}).getElement();this.elementCreator.getElement().append(e)}handleClick(){this.statusGame.statusGame?this.modal.showModal("newGame",this.setLossLocalStorage.bind(this)):(this.sound.statusSound&&this.sound.playSound("click"),this.setNewGame())}setLossLocalStorage(){v({time:"LOSS",score:"LOSS"}),this.sound.statusSound&&this.sound.playSound("loss"),this.setNewGame()}setNewGame(){new w().newGameRender(),new d().stop(),new d().resetTimer(),new m().resetCount(),new V().currentId=null,new u().setTextTime("00:00.0"),new g().statusGame=!1}}const ae=""+new URL("sound-on-36c19f0a.png",import.meta.url).href,ie=""+new URL("volume-cd397dbe.png",import.meta.url).href;class oe extends r{constructor(){const e={tag:"div",classNames:["header__checkbox"]};super(e),this.configureView(),this.sound=new h,this.sound.statusSound=!0}configureView(){const e=new a({tag:"label",classNames:["toggle"],attribute:[{id:"for",value:"uniqueID"}]}).getElement(),t=new a({tag:"input",classNames:["toggle__input"],attribute:[{id:"id",value:"uniqueID"},{id:"type",value:"checkbox"}],callback:[{event:"change",callback:o=>this.handleChange(o.target)}]}).getElement(),s=new a({tag:"span",classNames:["toggle-track"]}).getElement(),n=new a({tag:"span",classNames:["toggle-indicator"]}).getElement();this.spanIcon=new a({tag:"span",classNames:["checkMark"]}).getElement(),this.iconSoundOn=new a({tag:"img",classNames:[],attribute:[{id:"src",value:ae}]}).getElement(),this.iconSoundOff=new a({tag:"img",classNames:[],attribute:[{id:"src",value:ie}]}).getElement(),this.spanIcon.append(this.iconSoundOn),n.append(this.spanIcon),s.append(n),e.append(t,s),this.elementCreator.getElement().append(e)}handleChange(e){this.spanIcon.replaceChildren(),e.checked?(this.sound.statusSound=!1,this.spanIcon.append(this.iconSoundOff)):(this.sound.statusSound=!0,this.spanIcon.append(this.iconSoundOn))}}class re extends r{constructor(){const e={tag:"div",classNames:["header__container"]};super(e),this.configureView()}configureView(){this.elementCreator.getElement().append(new m().getHtmlElement(),new ne().getHtmlElement(),new u().getHtmlElement(),new oe().getHtmlElement())}}class ce extends r{constructor(){const e={tag:"header",classNames:["header"]};super(e),this.configureView()}configureView(){this.elementCreator.getElement().append(new re().getHtmlElement())}}class le extends r{constructor(){const e={tag:"div",classNames:["wrapper"]};super(e),this.configureView()}configureView(){this.elementCreator.getElement().append(new ce().getHtmlElement(),new w().getHtmlElement(),new M().getHtmlElement())}}class me{constructor(){this.body=document.querySelector("#app"),this.createHtmlElement()}createHtmlElement(){const e=new le,t=new c;this.body.append(e.getHtmlElement(),t.getHtmlElement())}}new me;
